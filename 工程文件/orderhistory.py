# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'orderhistory.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QMainWindow

from PyQt5 import QtGui, QtWidgets
from PyQt5.QtCore import *
from PyQt5.QtWidgets import QApplication, QMainWindow, QHeaderView
import pymysql



class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(1177, 845)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.tableWidget = QtWidgets.QTableWidget(self.centralwidget)
        self.tableWidget.setGeometry(QtCore.QRect(210, 0, 731, 721))
        self.tableWidget.setObjectName("tableWidget")
        self.tableWidget.setColumnCount(6)
        self.tableWidget.setRowCount(22)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(1, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(2, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(3, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(4, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(5, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(6, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(7, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(8, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(9, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(10, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(11, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(12, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(13, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(14, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(15, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(16, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(17, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(18, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(19, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(20, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setVerticalHeaderItem(21, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setHorizontalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setHorizontalHeaderItem(1, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setHorizontalHeaderItem(2, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setHorizontalHeaderItem(3, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setHorizontalHeaderItem(4, item)
        item = QtWidgets.QTableWidgetItem()
        self.tableWidget.setHorizontalHeaderItem(5, item)
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 1177, 21))
        self.menubar.setObjectName("menubar")
        MainWindow.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        item = self.tableWidget.verticalHeaderItem(0)
        item.setText(_translate("MainWindow", "1"))
        item = self.tableWidget.verticalHeaderItem(1)
        item.setText(_translate("MainWindow", "2"))
        item = self.tableWidget.verticalHeaderItem(2)
        item.setText(_translate("MainWindow", "3"))
        item = self.tableWidget.verticalHeaderItem(3)
        item.setText(_translate("MainWindow", "4"))
        item = self.tableWidget.verticalHeaderItem(4)
        item.setText(_translate("MainWindow", "5"))
        item = self.tableWidget.verticalHeaderItem(5)
        item.setText(_translate("MainWindow", "6"))
        item = self.tableWidget.verticalHeaderItem(6)
        item.setText(_translate("MainWindow", "8"))
        item = self.tableWidget.verticalHeaderItem(7)
        item.setText(_translate("MainWindow", "9"))
        item = self.tableWidget.verticalHeaderItem(8)
        item.setText(_translate("MainWindow", "10"))
        item = self.tableWidget.verticalHeaderItem(9)
        item.setText(_translate("MainWindow", "11"))
        item = self.tableWidget.verticalHeaderItem(10)
        item.setText(_translate("MainWindow", "12"))
        item = self.tableWidget.verticalHeaderItem(11)
        item.setText(_translate("MainWindow", "13"))
        item = self.tableWidget.verticalHeaderItem(12)
        item.setText(_translate("MainWindow", "14"))
        item = self.tableWidget.verticalHeaderItem(13)
        item.setText(_translate("MainWindow", "15"))
        item = self.tableWidget.verticalHeaderItem(14)
        item.setText(_translate("MainWindow", "16"))
        item = self.tableWidget.verticalHeaderItem(15)
        item.setText(_translate("MainWindow", "17"))
        item = self.tableWidget.verticalHeaderItem(16)
        item.setText(_translate("MainWindow", "18"))
        item = self.tableWidget.verticalHeaderItem(17)
        item.setText(_translate("MainWindow", "19"))
        item = self.tableWidget.verticalHeaderItem(18)
        item.setText(_translate("MainWindow", "20"))
        item = self.tableWidget.verticalHeaderItem(19)
        item.setText(_translate("MainWindow", "21"))
        item = self.tableWidget.verticalHeaderItem(20)
        item.setText(_translate("MainWindow", "22"))
        item = self.tableWidget.verticalHeaderItem(21)
        item.setText(_translate("MainWindow", "23"))
        item = self.tableWidget.horizontalHeaderItem(0)
        item.setText(_translate("MainWindow", "订单编号"))
        item = self.tableWidget.horizontalHeaderItem(1)
        item.setText(_translate("MainWindow", "学生编号"))
        item = self.tableWidget.horizontalHeaderItem(2)
        item.setText(_translate("MainWindow", "档口编号"))
        item = self.tableWidget.horizontalHeaderItem(3)
        item.setText(_translate("MainWindow", "订单时间"))
        item = self.tableWidget.horizontalHeaderItem(4)
        item.setText(_translate("MainWindow", "食物编号"))
        item = self.tableWidget.horizontalHeaderItem(5)
        item.setText(_translate("MainWindow", "评价编号"))

class MyMainWindow_6(QMainWindow, Ui_MainWindow):
    def __init__(self):
        super(MyMainWindow_6,self).__init__()
        self.setupUi(self)
        conn = pymysql.connect(host='localhost', port=3306, user='root', password="123456", db="canteen")
        cur = conn.cursor()
        # 查询的sql语句
        sql = "SELECT * FROM canteen.order;"
        cur.execute(sql)
        # 获取查询到的数据，是以字典的形式存储的，所以读取需要使用data[i][j]下标定位
        data = cur.fetchall()
        # 打印测试
        print(data)
        # print(data[0][0])
        # 将id和name显示到界面表格上
        self.tableWidget.setItem(0, 0, QtWidgets.QTableWidgetItem(str(data[0][0])))
        self.tableWidget.setItem(0, 1, QtWidgets.QTableWidgetItem(str(data[0][1])))
        self.tableWidget.setItem(0, 2, QtWidgets.QTableWidgetItem(str(data[0][2])))
        self.tableWidget.setItem(0, 3, QtWidgets.QTableWidgetItem(str(data[0][3])))
        self.tableWidget.setItem(0, 4, QtWidgets.QTableWidgetItem(str(data[0][4])))
        self.tableWidget.setItem(0, 5, QtWidgets.QTableWidgetItem(str(data[0][5])))
        self.tableWidget.setItem(1, 0, QtWidgets.QTableWidgetItem(str(data[1][0])))
        self.tableWidget.setItem(1, 1, QtWidgets.QTableWidgetItem(str(data[1][1])))
        self.tableWidget.setItem(1, 2, QtWidgets.QTableWidgetItem(str(data[1][2])))
        self.tableWidget.setItem(1, 3, QtWidgets.QTableWidgetItem(str(data[1][3])))
        self.tableWidget.setItem(1, 4, QtWidgets.QTableWidgetItem(str(data[1][4])))
        self.tableWidget.setItem(1, 5, QtWidgets.QTableWidgetItem(str(data[1][5])))
        self.tableWidget.setItem(2, 0, QtWidgets.QTableWidgetItem(str(data[2][0])))
        self.tableWidget.setItem(2, 1, QtWidgets.QTableWidgetItem(str(data[2][1])))
        self.tableWidget.setItem(2, 2, QtWidgets.QTableWidgetItem(str(data[2][2])))
        self.tableWidget.setItem(2, 3, QtWidgets.QTableWidgetItem(str(data[2][3])))
        self.tableWidget.setItem(2, 4, QtWidgets.QTableWidgetItem(str(data[2][4])))
        self.tableWidget.setItem(2, 5, QtWidgets.QTableWidgetItem(str(data[2][5])))

        cur.close()
        conn.close()


